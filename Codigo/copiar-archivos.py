import os
import shutil

def copiar_archivos_yara(origen, destino):
    # Iterar sobre archivos y directorios en el directorio de origen
    for root, dirs, files in os.walk(origen):
        for filename in files:
            if filename.endswith(".yar") or filename.endswith(".yara"):
                # Construir las rutas completas de origen y destino
                ruta_origen = os.path.join(root, filename)
                ruta_destino = os.path.join(destino, filename)

                # Copiar el archivo YARA al directorio de destino
                shutil.copy2(ruta_origen, ruta_destino)

                print(f"Copiado exitoso: {ruta_origen} -> {ruta_destino}")

# Directorio de origen (donde se encuentran los archivos .yar)
directorio_origen = "/home/cape/Desktop/Ejercicio_1/repositorios/yara"

# Directorio de destino (donde se copiarán los archivos .yar)
directorio_destino = "/home/cape/Desktop/Ejercicio_1/repositorios/CAPE"

# Crear el directorio de destino si no existe
if not os.path.exists(directorio_destino):
    os.makedirs(directorio_destino)

# Llamar a la función para copiar archivos YARA
copiar_archivos_yara(directorio_origen, directorio_destino)